/* Base square */
.bg-anim .square {
  position: absolute;
  display: block;
  width: 140px;
  height: 140px;
  border-radius: 24px;
  background: radial-gradient(circle at 30% 30%,
    hsla(var(--h, 210), 90%, 65%, 0.85) 0%,
    hsla(calc(var(--h, 210) + 25), 85%, 55%, 0.7) 55%,
    hsla(calc(var(--h, 210) + 55), 80%, 45%, 0.55) 100%);
  mix-blend-mode: multiply;
  box-shadow:
    0 12px 30px hsla(calc(var(--h, 210) + 10), 60%, 35%, 0.25),
    0 0 0 8px hsla(var(--h, 210), 65%, 85%, 0.18) inset;
  animation: floatRotate 24s linear infinite;
}

/* Background animation layer */
.bg-anim {
  position: fixed;
  inset: 0;
  z-index: 0; /* behind content */
  pointer-events: none;
  overflow: hidden;
}

/* Ensure page content sits above */
.main-page > *:not(.bg-anim) {
  position: relative;
  z-index: 1;
}

/* Variants: size, position, duration, delay */
.bg-anim .s1 { --h: 200; left: 8%;  top: 70%; width: 200px; height: 200px; animation-duration: 26s; animation-delay: -4s; }
.bg-anim .s2 { --h: 150; left: 28%; top: 45%; width: 160px; height: 160px; animation-duration: 22s; animation-delay: -8s; }
.bg-anim .s3 { --h: 270; left: 55%; top: 28%; width: 140px; height: 140px; animation-duration: 24s; animation-delay: -12s; }
.bg-anim .s4 { --h: 20;  left: 78%; top: 12%; width: 120px; height: 120px; animation-duration: 18s; animation-delay: -6s; }
.bg-anim .s5 { --h: 330; left: 82%; top: 72%; width: 260px; height: 260px; animation-duration: 30s; animation-delay: -10s; }
.bg-anim .s6 { --h: 90;  left: 6%;  top: 18%; width: 80px;  height: 80px;  animation-duration: 16s; animation-delay: -14s; }
.bg-anim .s7 { --h: 45;  left: 44%; top: 86%; width: 18px;  height: 18px;  border-radius: 6px; animation-duration: 14s; animation-delay: -2s; }
.bg-anim .s8 { --h: 250; left: -6%; top: 78%; width: 320px; height: 320px; animation-duration: 36s; animation-delay: -20s; transform: rotate(8deg); }

@keyframes floatRotate {
  0% {
    transform: translate3d(0, 0, 0) rotate(0deg);
    opacity: 0.55;
  }
  25% {
    transform: translate3d(20px, -40px, 0) rotate(30deg);
    opacity: 0.65;
  }
  50% {
    transform: translate3d(-15px, -80px, 0) rotate(90deg);
    opacity: 0.5;
  }
  75% {
    transform: translate3d(10px, -120px, 0) rotate(140deg);
    opacity: 0.6;
  }
  100% {
    transform: translate3d(-5px, -160px, 0) rotate(180deg);
    opacity: 0.45;
  }
}